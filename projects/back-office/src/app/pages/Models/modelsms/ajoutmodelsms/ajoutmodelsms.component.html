<div class="card card-default col-md-12 m-2" style="width:98%;overflow-x: hidden;">
    <div class="card-header ">
        <h3 >
            <i class="feather icon-file"></i>
            Ajouter un model SMS
        </h3>
    </div>
    <div class="card-body table-responsive">
        <div class="row">
            <div class="">
                <form   (ngSubmit)="AddModel(titre.value)">
                    <div class="row ">
                        <div class="col-md-6">
                            <div class="form-group row input_div">
                                <label class="col-sm-4 col-form-label">Titre
                                    <span class="text-danger">*</span>:</label>
                                <div class="col-sm-8">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Titre </mat-label>
                                    <input value="" type="text" matInput class="custom-input" name="titre" id="title" #titre>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row input_div">
                                <label class="col-sm-4 col-form-label">Model SMS :</label>
                                <div class="col-sm-8">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Model </mat-label>
                                    <mat-select  type="text" class="custom-input" matInput id="model" name="model" [(ngModel)]="selectedModal"  (change)="ChangeModal()">
                                        <mat-option *ngFor="let item of model" value="{{item.id}}">{{item.titre}}</mat-option>
                                        
                                    </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row input_div">
                                <!-- <div class="col-sm-8">
                                    <label class="col-form-label">Message
                                        <span class="text-danger">*</span>:</label>
                                </div> -->
                                <div class="col-sm-2">
                                    <label class="col-form-label">Ajouter des variables:</label>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Ajout variables </mat-label>
                                    <mat-select  id="param" type="text" class="custom-input"[(ngModel)]="selectedOption"  (ngModelChange)="addParam()" name="select">
                                        <mat-option>Select variable</mat-option>
                                        <mat-option value="[#-Nom-#]">Nom debiteur</mat-option>
                                        <mat-option value="[#-Prenom-#]">Prenom debiteur</mat-option>
                                        <mat-option value="[#-Civilite-#]">Civilite debiteur</mat-option>
                                        <mat-option value="[#-Cin-#]">Cin debiteur</mat-option>
                                        <mat-option value="[#-Adresse-#]">Adresse debiteur</mat-option>
                                        <mat-option value="[#-RS-#]">Raison sociale</mat-option>
                                        <mat-option value="[#-Donneur-#]">Donneur d'ordre</mat-option>
                                        <mat-option value="[#-CompteBancaireDonneur-#]">Compte bancaire donneur d'ordre</mat-option>
                                        <mat-option value="[#-NumDonneur-#]">Numéro donneur d'ordre
                                        </mat-option>
                                        <mat-option value="[#-DateNow-#]">Date d'aujourd'hui</mat-option>
                                        <mat-option value="[#-MontantRestant-#]">Montant Restant</mat-option>
                                        <mat-option value="[#-MontantInitiale-#]">Montant Initiale</mat-option>
                                        <mat-option value="[#-PrenomUtilisateur-#]">Prenom utilisateur</mat-option>
                                        <mat-option value="[#-NomUtilisateur-#]">Nom utilisateur</mat-option>
                                        <mat-option value="[#-AddTampon-#]">Ajouter tampon avec signature</mat-option>
                                        <mat-option value="[#-emploie-#]">Emploie</mat-option>
                                        <mat-option value="[#-employeur-#]">Employeur</mat-option>
                                        <mat-option value="[#-salaire-#]">Salaire</mat-option>
                                        <mat-option value="[#-adresseEmployeur-#]">Adresse employeur</mat-option>
                                        <mat-option value="[#-numCnss-#]">Numéro CNSS</mat-option>
                                        <mat-option value="[#-numFoncier-#]">Numéro Titre foncier</mat-option>
                                        <mat-option value="[#-villeFoncier-#]">Ville titre foncier</mat-option>
                                        <mat-option value="[#-natureFoncier-#]">Nature titre foncier</mat-option>

                                        <option value="[#-numCnss-#]">Numéro de cnss</option>
                                        <option value="[#-numCreance-#]">Numéro de créance</option>
                                        <option value="[#-detailCreance-#]">Detail créance</option>
                                        <option value="[#-detailFinancement-#]">detail financement</option>
                                        <option value="[#-numeroUtilisateur-#]">Numéro d'utilisateur</option>

                                    </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <!-- <textarea class="form-control limited" name="message" id="ckeditor" rows="10"></textarea> -->
                                    <ckeditor [(ngModel)]="ckeditorContent" name="ckeditor"></ckeditor>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit"  class="btn btn-warning m-b-0 btn-block insert-btn col-md-5 offset-3" mat-raised-button color="primary">Ajouter</button>
                </form>
            </div>
        </div>
    </div>
    <div class=" ">
        <div class="card-header"> Liste des Models SMS</div>
        <div class="card-body">
            <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%">
                <thead>
                <tr>
                    <th>N°</th>
                    <th>Titre</th>
                    <th>Message</th>
                    <th>Date de creation</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of model">
                        <td>{{item.id}}</td>
                        <td>{{item.titre}}</td>
                        <td>{{item.message}}</td>
                        <td>{{item.dateCreation| date:'longDate'}}</td>
                        <td>
                            <button type="button" class="btn btn-danger btn-sm m-1"(click)="DeleteModel(item.id)" ><i class="fa fa-trash"></i></button>
                            <a type="button" class="btn btn-warning btn-sm m-1" [routerLink]="['/modifier_model_sms', item.id]"><i class="fa fa-pencil-alt"></i></a>
                            <!-- (click)="openModalWithData(item.id)" -->
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                <tr>
                    <th>N°</th>
                    <th>Titre</th>
                    <th>Message</th>
                    <th>Date de creation</th>
                    <th></th>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>