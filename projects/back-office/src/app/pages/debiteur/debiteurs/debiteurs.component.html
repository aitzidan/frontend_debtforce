<div class="d-flex flex-row">
    <div class="card card-default col-md-3 mr-5 ml-4 mt-4 mb-1">
        <div class="d-flex align-items-center justify-content-between">
            <a href=""  class="p-2 fw-normal  retour-title" ><i class="fa fa-solid fa-less-than "></i> Retour</a>
        </div>  
        <div style="    font-weight: 500;
            font-size: larger;"class="text-primary  mb-1 mt-2" > <i class="fa-solid fa-user"></i> Débiteurs </div>
        <div class="row input_div">
            <mat-form-field appearance="outline" style="width: 100% !important">
                <mat-label style="font-size: small;">CIN</mat-label>
                <input matInput  class="custom-input"     [(ngModel)]="cin"
                [ngModelOptions]="{ standalone: true }">
            </mat-form-field>
        </div>
        <div class="row input_div">
            <mat-form-field appearance="outline" style="width: 100% !important">
                <mat-label style="font-size: small;" [(ngModel)]="raison_social"
                [ngModelOptions]="{ standalone: true }">Raison sociale</mat-label>
                <input matInput  class="custom-input" >
            </mat-form-field>
        </div>
        <div class="row input_div">
            <mat-form-field appearance="outline">
                <mat-label>Date naissance </mat-label>
                <input
                class="custom-input"
                matInput
                [matDatepicker]="picker_naissance"
                value="" 
                [(ngModel)]="date_naissance"
                [ngModelOptions]="{ standalone: true }"
                />
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle
                matIconSuffix
                [for]="picker_naissance"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker_naissance></mat-datepicker>
            </mat-form-field>
        </div>
        <div style="    font-weight: 500;
            font-size: larger;"class="text-primary  mb-1 mt-2" > <i class="fa-solid fa-file"></i> Créances </div>
        <div class="row input_div">
        <mat-form-field appearance="outline" style="width: 100% !important">
            <mat-label style="font-size: small;">Réference</mat-label>
            <input matInput  [(ngModel)]="numero_creance"
            [ngModelOptions]="{ standalone: true }" class="custom-input" >
        </mat-form-field>
        </div>
        <div class="row input_div">
            <div class="text-grey mb-1 mt-2"  style="    font-weight: 500;
            font-size: larger;"> <i class="fa-solid fa-agenda-card"></i> Date écheance :</div>            <mat-form-field appearance="outline">
                <mat-label>  De :</mat-label>
                <input
                class="custom-input"
                matInput
                [matDatepicker]="picker"
                name="date_debut"
                value=""
                [(ngModel)]="date_debut_prevesionnel"
                [ngModelOptions]="{ standalone: true }"
                />
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle
                matIconSuffix
                [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label> à :</mat-label>
                <input
                class="custom-input"
                matInput
                [matDatepicker]="picker"
                name="date_debut"
                value=""
                [(ngModel)]="date_fin_prevesionnel"
                [ngModelOptions]="{ standalone: true }"
                />
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle
                matIconSuffix
                [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            
        </div>
        <div class="row input_div">
            <mat-form-field appearance="outline">
                <mat-label>Portefuille</mat-label>
                <mat-select
                  [(ngModel)]="ptf"
                  [ngModelOptions]="{ standalone: true }">
                  <mat-option
                    *ngFor="let item of liste_ptf"
                    [value]="item.id">{{ item.titre }}</mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="row input_div">
            <mat-form-field appearance="outline">
                <mat-label>Date écheance </mat-label>
                <input
                class="custom-input"
                matInput
                [matDatepicker]="picker_echeance"
                value=""
                [(ngModel)]="date_echeance"
                [ngModelOptions]="{ standalone: true }"
                />
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle
                matIconSuffix
                [for]="picker_echeance"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker_echeance></mat-datepicker>
            </mat-form-field>
        </div>
        
        <div class="text-grey mb-1 mt-2"  style="    font-weight: 500;
        font-size: larger;"> <i class="fa-solid fa-address-card"></i> Cordonnés débiteur </div>
        <div class="row input_div">
            <mat-form-field appearance="outline" style="width: 100% !important">
                <mat-label style="font-size: small;">Adresse</mat-label>
                <input matInput  class="custom-input" [(ngModel)]="adresse"
                [ngModelOptions]="{ standalone: true }">
            </mat-form-field>
        </div>
        <div class="row input_div">
            <mat-form-field appearance="outline" style="width: 100% !important">
                <mat-label style="font-size: small;">Téléphonne</mat-label>
                <input matInput  class="custom-input" [(ngModel)]="tel"
                [ngModelOptions]="{ standalone: true }" >
            </mat-form-field>
        </div>
        <div class="">
            <button mat-flat-button class="mb-2" (click)="search_debiteur()" color="primary" >Rechercher <mat-icon iconPositionEnd>search</mat-icon></button>
        </div>
    </div>

    <div class="col-md-8 mt-4" style="text-align: center;
    margin-top: 50px !important;" *ngIf="!isSearch">
        <img src="assets/backTemplate/img/search-file-svgrepo-com.svg" style="    width: 200px;
        height: 200px;" />
        <h2 class="text-primary">Aucun résulat trouvé</h2>
    </div>
    <div class=" col-md-8 mt-4" *ngIf="isSearch">
        <div class="">
            <div class="">
                <form method="POST" enctype="multipart/form-data">
                    <div *ngFor="let d of liste_debiteurs">
                        <div class="row">
                            <div class="col-md-6" >
                                <mat-card-title class="text-bold-1 text-primary" ><i class="fa-solid fa-user text-primary"></i>  {{d.nom}} {{d.prenom}}</mat-card-title>
                                <div style="color: white;"><span style="    background-color: grey;
                                    padding: 0px 5px;
                                    border-radius: 5px;">{{d.date_naissance |date:'yyyy-MM-dd' }} </span><span>{{d.lieu_naissance}}</span></div>
                            </div>
                            <div class="col-md-6 text-end" >
                                <div style="color: white;"><button color="accent" mat-flat-button routerLink="/details-debiteur/{{d.id}}">Details <mat-icon iconPositionEnd>list</mat-icon></button></div>
                            </div>
                        </div>
                        <mat-card *ngFor="let c of d.creance" class="mt-4 card_doss" routerLink="/details-creance/{{c.id}}">
                            <div class="div_card"  ><!--(click)="redirectTo(cr.id)"-->
                                <div class="chunk1" >
                                    <mat-card-title class="text-bold-1 text-primary" >#  {{c.numero_creance}}</mat-card-title>
                                    <div style="color: white;"><span style="background-color: grey;
                                        padding: 0px 5px;
                                        border-radius: 5px;">{{c.type_debiteur.type}}</span></div>
                                </div>
                                <div class="chunk2 mt-1">
                                </div>
                                <div class="chunk3" style="text-align: end;">
                                    <mat-card-subtitle class="text-bold-1 text-danger">{{c.total_restant}} MAD</mat-card-subtitle>
                                    <mat-card-subtitle class="text-success">{{c.total_creance}} MAD</mat-card-subtitle>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>